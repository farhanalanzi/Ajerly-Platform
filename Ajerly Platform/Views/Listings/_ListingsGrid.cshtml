@model IEnumerable<Ajerly_Platform.Models.Listing>

<div class="listings-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px;padding:16px;">
    @if (!Model.Any())
    {
        <div style="grid-column:1/-1;text-align:center;color:#666;padding:24px;background:#fff;border-radius:8px;">لا توجد عروض.</div>
    }
    else
    {
        foreach (var item in Model)
        {
            <div class="listing-card" style="background:#fff;border-radius:8px;padding:12px;box-shadow:0 1px 3px rgba(0,0,0,0.08);">
                <a class="listing-link" asp-action="Details" asp-route-id="@item.Id" style="text-decoration:none;color:inherit;">
                    <div style="height:160px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#f8f8f8;border-radius:6px;">
                        @if (item.Images != null && item.Images.Any())
                        {
                            <img src="@item.Images.First().ImageUrl" alt="@item.Title" style="max-width:100%;max-height:100%;object-fit:contain;" />
                        }
                        else
                        {
                            <div style="width:100%;height:100%;"></div>
                        }
                    </div>

                    <h3 style="margin:10px 0 4px 0;">@item.Title</h3>
                    <p style="margin:0;color:#444;min-height:40px;">@item.Description</p>
                    <div style="margin-top:8px;font-weight:600;color:#111;">@item.Price @item.PriceUnit</div>
                </a>
            </div>
        }
    }
</div>
