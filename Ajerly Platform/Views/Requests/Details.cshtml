@model Ajerly_Platform.Models.Request

<div class="details-container centered-details">
    <button class="btn-back" onclick="history.back()">&larr; العودة</button>

    <div class="card-preview vertical details-page">
        <div class="preview-image">
            <img src="@(string.IsNullOrEmpty(Model.ImagePath) ? "/images/default.jpg" : Model.ImagePath)" alt="@Model.Title" />
        </div>

        <div class="preview-content">
            <span class="listing-tag request">طلب</span>
            <h2>@Model.Title</h2>
            <div class="preview-city">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6b7280" viewBox="0 0 16 16" style="vertical-align:middle;margin-inline-start:6px;">
                  <path d="M8 0a5 5 0 0 0-5 5c0 3.3 5 11 5 11s5-7.7 5-11a5 5 0 0 0-5-5zm0 7.5A2.5 2.5 0 1 1 8 2.5a2.5 2.5 0 0 1 0 5z"/>
                </svg>
                @Model.City
            </div>
            <div class="preview-desc">@Model.Description</div>

            @{ var unit = Model.PriceUnit ?? ""; var priceText = unit.Trim() == "ريال" ? $"السعر المتوقع: {Model.Price} ريال" : $"السعر المتوقع: {Model.Price} {unit}"; }
            <div class="listing-price" style="font-size:20px;font-weight:800;color:#111827;margin-top:6px;">@Html.Raw(priceText)</div>

            <div class="seller-box">
                <div>
                    <div class="seller-label" style="font-size:12px;color:#6b7280">المعلن</div>
                    <div class="seller-name">@Model.User?.FullName</div>
                </div>
                <a class="btn-contact large" href="tel:@Model.Phone">اتصل الآن</a>
            </div>

            <div class="preview-meta"><small>نُشر في: @Model.CreatedAt.ToString("yyyy-MM-dd")</small></div>
        </div>
    </div>
</div>
