@model Ajerly_Platform.Models.HomeIndexViewModel
@{
ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <section class="hero-section">
        <div class="hero-content">
            <h1>أرني منتجاتك</h1>
            <p>منصة أجرلي - أسهل طريقة لتأجير واستئجار المنتجات بين الأفراد</p>

            <input type="text" class="search-bar" placeholder="ابحث عن منتج...">

            <div class="hero-buttons">
                <button class="btn-request" onclick="location.href='@Url.Action("Create", "Requests")'">طلب عرض</button>
                <button class="btn-add" onclick="location.href='@Url.Action("Create", "Listings")'">إضافة عرض</button>
            </div>
        </div>
    </section>

    <!-- ✅ تصنيفات -->
    <section class="category-filter">
        <button class="category-btn @(Model.Category == "الكل" ? "active" : "")" data-category="الكل">الكل</button>
        <button class="category-btn @(Model.Category == "ألعاب وترفيه" ? "active" : "")" data-category="ألعاب وترفيه">ألعاب وترفيه</button>
        <button class="category-btn @(Model.Category == "مستلزمات المنزل" ? "active" : "")" data-category="مستلزمات المنزل">مستلزمات المنزل</button>
        <button class="category-btn @(Model.Category == "مستلزمات السفر" ? "active" : "")" data-category="مستلزمات السفر">مستلزمات السفر</button>
        <button class="category-btn @(Model.Category == "السيارة" ? "active" : "")" data-category="السيارة">السيارة</button>
        <button class="category-btn @(Model.Category == "الأجهزة" ? "active" : "")" data-category="الأجهزة">الأجهزة</button>
        <button class="category-btn @(Model.Category == "الأثاث" ? "active" : "")" data-category="الأثاث">الأثاث</button>
        <button class="category-btn @(Model.Category == "الملابس والأزياء" ? "active" : "")" data-category="الملابس والأزياء">الملابس والأزياء</button>
    </section>

    <!-- ✅ عرض العروض والطلبات -->
    <section class="listings-grid">
        @foreach (var item in Model.Listings)
        {
        <div class="listing-card">
            <div class="listing-image">
                <img src="~/images/default.jpg" alt="صورة المنتج" />
            </div>
            <div class="listing-info">
                <span class="listing-tag">عرض</span>
                <h3>@item.Title</h3>
                <p>@item.Description</p>
                <p><strong>المدينة:</strong> @item.City</p>
                <p><strong>السعر:</strong> @item.Price ريال/@item.PriceUnit</p>
                <p><strong>الجوال:</strong> @item.Phone</p>
            </div>
        </div>
        }

        @foreach (var item in Model.Requests)
        {
        <div class="listing-card">
            <div class="listing-image">
                <img src="~/images/default.jpg" alt="صورة المنتج" />
            </div>
            <div class="listing-info">
                <span class="listing-tag">طلب</span>
                <h3>@item.Title</h3>
                <p>@item.Description</p>
                <p><strong>المدينة:</strong> @item.City</p>
                <p><strong>السعر المتوقع:</strong> @item.Price ريال/@item.PriceUnit</p>
                <p><strong>الجوال:</strong> @item.Phone</p>
            </div>
        </div>
        }
    </section>
</div>

<script>
    const buttons = document.querySelectorAll('.category-btn');
    buttons.forEach(btn => {
        btn.addEventListener('click', () => {
            const category = btn.dataset.category;
            window.location.href = `/Listings/Category?name=${encodeURIComponent(category)}`;
        });
    });
</script>
